<!DOCTYPE html>
<!--
    Copyright (c) 2015, SerGIS Project Contributors. All rights reserved.
    Use of this source code is governed by the MIT License, which can be found
    in the LICENSE.txt file.
-->
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>SerGIS</title>

    <!-- {{#if stylesheetPath}}{{{endComment}}}
    <link rel="stylesheet" type="text/css" href="{{stylesheetPath}}">
    {{{startComment}}}{{else}} -->
    <link rel="stylesheet" type="text/css" href="lib/style.css">
    <!-- {{/if}} -->

    <!-- ESRI ArcGIS API stylesheet -->
    <link rel="stylesheet" type="text/css" href="http://js.arcgis.com/3.13/esri/css/esri.css">
</head>
<body>

<div id="main-wrapper" style="display: none;">
    <header class="noselect">
        <h1 id="main-header-title"><a id="main-header-title-link">SerGIS</a></h1>
        <div id="main-toolbox" class="toolbox">
            <div>
                <ul id="main-toolbox-buttons" class="buttons"></ul>
                <span id="main-toolbox-status"></span>
            </div>
        </div>
    </header>
    
    <section>
        <div id="map-container">Loading map...</div>

        <aside id="sidebar" class="noselect"><!-- class="noselect with-collectibles" -->
        	<div id="collectibles-container">
        		<div id="collectibles-bar"></div>
        	</div>
        	
            <h2 id="sidebar-title"><span id="sidebar-title-text">title</span></h2>
            <div id="sidebar-content" class="content">Loading content...</div>
            <footer id="sidebar-footer">
                <div id="sidebar-footer-navigation" class="progress"><button id="navigation-previous" style="display: none;">Back</button><button id="navigation-next" style="display: none;">Skip</button>Page <span id="navigation-promptNumber"></span> of <span id="navigation-promptCount"></span></div>
            </footer>
        </aside>

        <aside id="sidebar-overlay" class="aside-overall noselect" style="display: none;">
            <table><tbody><tr><td>
                <div id="sidebar-overlay-content" style="display: none;"></div>
                <p id="sidebar-overlay-loading">Loading...</p>
            </td></tr></tbody></table>
        </aside>

        <div id="map-popup" class="popup" style="display: none;"></div>
        <div id="sidebar-resizer" class="resizer noselect"></div>
    </section>
</div>

<div id="login-wrapper" style="display: none;">
    <header class="noselect">
        <h1>SerGIS</h1>
    </header>
    <section>
        <h2>Log In</h2>
        <form id="login-form"><fieldset>
            <p id="login-errmsg" class="errmsg" style="display: none;"></p>
            <table><tbody>
                <tr><td>Username:</td><td><input id="login-username"></td></tr>
                <tr><td>Password:</td><td><input id="login-password" type="password"></td></tr>
            </tbody></table>
            <p><input type="submit" value="Log In"></p>
        </fieldset></form>
    </section>
</div>

<div id="loading" class="overall">
    <table><tbody><tr><td>
        <!--[if lt IE 9]><p>Please upgrade to a <a href="http://whatbrowser.org/">modern browser</a>.</p><![endif]-->
        <!--[if gte IE 9]>-->
        <p id="loading-text"><noscript>Please enable JavaScript.</noscript></p>
        <!--<![endif]-->
    </td></tr></tbody></table>
</div>


<!--
  ************************
  ** External libraries **
  ************************
-->

<!-- socket.io API (if applicable) -->
<!-- {{#if socket_io_script_src}}{{{endComment}}}
<script type="text/javascript" src="{{socket_io_script_src}}"></script>
{{{startComment}}}{{/if}} -->

<!-- ESRI ArcGIS API -->
<script type="text/javascript" src="http://js.arcgis.com/3.13/"></script>

<!-- YouTube API -->
<script type="text/javascript" src="https://www.youtube.com/player_api"></script>

<!--
  **********************
  ** SerGIS libraries **
  **********************
-->

<!-- The following mess is in case we are running from sergis-server.
{{#if client_js_src}}{{{endComment}}}
<script id="sergis-backend-script" type="text/javascript" src="{{client_js_src}}" data-socket-io-origin="{{socket_io_origin}}" data-socket-io-prefix="{{socket_io_prefix}}" data-session="{{session}}" data-game="{{game}}"></script>
{{#if test}}<script type="text/javascript">{{{test}}}</script>{{/if}}
{{{startComment}}}{{else}} -->

<!-- ES6 Promise polyfill -->
<script type="text/javascript" src="lib/es6-promise.js"></script>

<!-- SerGIS main library (if there's no minified version) - MUST be first of our stuff -->
<script type="text/javascript" src="lib/main.js"></script>
<!-- SerGIS client frontend -->
<script type="text/javascript" src="lib/frontends/arcgis.js"></script>
<!-- SerGIS client backend -->
<script type="text/javascript" src="lib/backends/game-common.js"></script>
<script type="text/javascript" src="lib/backends/local.js"></script>

<!-- {{/if}} -->

</body>
</html>
